{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/LastModifiedDate.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/last-modified-date.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss","webpack:///./src/pages/recipes/configuring-apache.mdx"],"names":["PageHeader","title","theme","tabs","className","cx","styles","pageHeader","withTabs","length","darkMode","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","aria-label","list","React","Component","LastModifiedDate","date","lastModified","Date","toLocaleDateString","day","year","month","Default","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","module","exports","_frontmatter","makeShortcode","name","console","warn","PageDescription","InlineNotification","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-recipes-configuring-apache-mdx-f1e4643f9c5ee2d39f50.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import LastModifiedDate from './LastModifiedDate';\n\nexport default LastModifiedDate;\n","import React from 'react';\nimport { Row, Column } from '../Grid';\nimport styles from './last-modified-date.module.scss';\n\nconst LastModifiedDate = ({ date }) => {\n  const options = {\n    day: '2-digit',\n    year: 'numeric',\n    month: 'long',\n  };\n\n  const lastModified = new Date(date);\n\n  return date ? (\n    <Row className={styles.row}>\n      <Column>\n        <div className={styles.text}>\n          Page last updated: {lastModified.toLocaleDateString('en-GB', options)}\n          {/* // https://www-03preprod.ibm.com/support/knowledgecenter/ibm_style/dates-and-times.html */}\n        </div>\n      </Column>\n    </Row>\n  ) : null;\n};\nexport default LastModifiedDate;\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\nimport LastModifiedDate from '../components/LastModifiedDate';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n    date,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n        <LastModifiedDate date={date} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"last-modified-date-module--bx--text-truncate--end--123zi\",\"bxTextTruncateFront\":\"last-modified-date-module--bx--text-truncate--front--3xeKz\",\"text\":\"last-modified-date-module--text--24m-4\",\"row\":\"last-modified-date-module--row--2BquN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"darkMode\":\"PageHeader-module--dark-mode--hBrwL\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/dsobryan/Documents/ElyraOS/elyra-ai-site/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const Title = () => <span>\n    Configuring Apache Airflow on Kubernetes for use with Elyra\n  </span>;\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  Title,\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <PageDescription mdxType=\"PageDescription\">\n      <p>{`Pipelines in Elyra can be run locally in JupyterLab, or remotely on Kubeflow Pipelines or Apache Airflow to take advantage of shared resources that speed up processing of compute intensive tasks.`}</p>\n    </PageDescription>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note:`}</strong>{` Support for Apache Airflow is experimental.`}</p>\n    </InlineNotification>\n    <p>{`This document outlines how to set up a new Elyra-enabled Apache Airflow environment or add Elyra support to an existing deployment.`}</p>\n    <p>{`This guide assumes a general working knowledge of and administration of a Kubernetes cluster.`}</p>\n    <h2>{`Prerequisites`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`A private repository on github.com or GitHub Enterprise that is used to store DAGs.`}</li>\n      <li parentName=\"ul\">{`S3-based cloud object storage e.g. IBM Cloud Object Storage, Amazon S3, MinIO`}</li>\n    </ul>\n    <p>{`AND  `}</p>\n    <ul>\n      <li parentName=\"ul\">{`A Kubernetes Cluster without Apache Airflow installed`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Ensure Kubernetes is at least v1.18. Earlier versions might work  but have not been tested.`}</li>\n          <li parentName=\"ul\">{`Helm v3.0 or later`}</li>\n          <li parentName=\"ul\">{`Use the `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/airflow-helm/charts/tree/main/charts/airflow\"\n            }}>{`Helm chart`}</a>{` available in the Airflow source distribution with the `}<a parentName=\"li\" {...{\n              \"href\": \"https://raw.githubusercontent.com/elyra-ai/elyra/v3.0.1/etc/kubernetes/airflow/helm/values.yaml\"\n            }}>{`Elyra sample configuration`}</a>{`.`}</li>\n        </ul>\n      </li>\n    </ul>\n    <p>{`OR  `}</p>\n    <ul>\n      <li parentName=\"ul\">{`An existing Apache Airflow cluster `}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Ensure Apache Airflow is at least v1.10.8 and below v2.0.0. Other versions might work but have not been tested.`}</li>\n          <li parentName=\"ul\">{`Apache Airflow is configured to use the Kubernetes Executor.`}</li>\n          <li parentName=\"ul\">{`Ensure the KubernetesPodOperator is installed and available in the Apache Airflow deployment`}</li>\n        </ul>\n      </li>\n    </ul>\n    <h2>{`Setting up a DAG repository on GitHub`}</h2>\n    <p>{`In order to use Apache Airflow with Elyra, it must be configured to use a GitHub repository to store DAGs.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create a private repository on github.com or GitHub Enterprise. (Elyra produces DAGs that contain credentials, which are not encrypted. Therefore you should not use a public repository.)`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token\"\n        }}>{`Generate a personal access token`}</a>{` with push access to the repository. This token is used by Elyra to upload DAGs.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://docs.github.com/en/github/authenticating-to-github/adding-a-new-ssh-key-to-your-github-account\"\n        }}>{`Generate an SSH key`}</a>{` with read access for the repository. Apache Airflow uses a git-sync container to keep its collection of DAGs in synch with the content of the GitHub Repository and the SSH key is used to authenticate.`}</li>\n    </ul>\n    <p>{`Take note of the following information:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`GitHub API endpoint (e.g. `}<inlineCode parentName=\"li\">{`https://api.github.com`}</inlineCode>{` if the repository is hosted on github.com)`}</li>\n      <li parentName=\"ul\">{`Repository name (e.g. `}<inlineCode parentName=\"li\">{`your-git-org/your-dag-repo`}</inlineCode>{`)`}</li>\n      <li parentName=\"ul\">{`Repository branch name (e.g. `}<inlineCode parentName=\"li\">{`main`}</inlineCode>{`)`}</li>\n      <li parentName=\"ul\">{`Personal access token (e.g. `}<inlineCode parentName=\"li\">{`4d79206e616d6520697320426f6e642e204a616d657320426f6e64`}</inlineCode>{`)`}</li>\n    </ul>\n    <p>{`You need to provide this information in addition to your cloud object storage credentials when you `}<a parentName=\"p\" {...{\n        \"href\": \"../user_guide/runtime-conf\"\n      }}>{`create a runtime configuration`}</a>{` in Elyra for the Apache Airflow deployment.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"759px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"72.91666666666666%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaklEQVQ4y42T6a6CMBCF+/5vZ4z/SUB2kEXcdfSbmyGlYnKbnHQo0zNnlro0TaWqKun7XtG2rWR1J0nRSpw3H9Syrzrdd7vdAtvtVjabzQIujmMpikIBeZZlUha5ZOle93Ho1S7yTINFUaR+SZKogHA5iJqmUaAU1HX9+W6l/NiHw0GOx6NM0yTn81mGYVCicRzlcrkoyev1muH4wQWccWA3+3q9yv1+n6M/n8/5ohFxZlBCIpoq4Ct+PB4zETaBuq5TdSGR2Y5UUOE7hE6+MkPoPytEFQotNUvn1/JTXluOApMGxUftf0h98i9CU1iW5aJuYWrY/KNR4Ha7/W4KZMwYe57nGoBvu2RgGphTfAB3w8COztnoWINQwNhgo8pAAHwpE2SAM/u/GBvU/Q10o+Q2Lj44p94EgsjIvsbGonGB6Chc66wp/zU+s0LeJjWx+tiAA2ppTy0MsNploloNAbYPMjidTqvvdg1vcjqLkakhPiwAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"Example Apache Airflow runtime configuration\",\n        \"title\": \"Example Apache Airflow runtime configuration\",\n        \"src\": \"/elyra-ai-site/static/3f9bdd7ed68b2f036e8a006839d55c29/710d1/airflow-runtime-config-sample.png\",\n        \"srcSet\": [\"/elyra-ai-site/static/3f9bdd7ed68b2f036e8a006839d55c29/7fc1e/airflow-runtime-config-sample.png 288w\", \"/elyra-ai-site/static/3f9bdd7ed68b2f036e8a006839d55c29/a5df1/airflow-runtime-config-sample.png 576w\", \"/elyra-ai-site/static/3f9bdd7ed68b2f036e8a006839d55c29/710d1/airflow-runtime-config-sample.png 759w\"],\n        \"sizes\": \"(max-width: 759px) 100vw, 759px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <h2>{`Deploying Airflow on a new Kubernetes cluster`}</h2>\n    <p>{`To deploy Apache Airflow on a new Kubernetes cluster:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a Kubernetes secret containing the SSH key that you `}<a parentName=\"p\" {...{\n            \"href\": \"#setting-up-a-dag-repository-on-github\"\n          }}>{`created earlier`}</a>{`.\nThe example below creates a secret named `}<inlineCode parentName=\"p\">{`airflow-secret`}</inlineCode>{` from three files. Replace the secret name, file names and locations as appropriate for your environment. `}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`kubectl create secret generic airflow-secret --from-file=id_rsa=.ssh/id_rsa --from-file=known_hosts=.ssh/known_hosts --from-file=id_rsa.pub=.ssh/id_rsa.pub -n airflow\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Download, review, and customize the `}<a parentName=\"p\" {...{\n            \"href\": \"https://raw.githubusercontent.com/elyra-ai/elyra/v3.0.1/etc/kubernetes/airflow/helm/values.yaml\"\n          }}>{`sample `}<inlineCode parentName=\"a\">{`helm`}</inlineCode>{` configuration`}</a>{` (or customize an existing configuration):`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Set `}<inlineCode parentName=\"li\">{`git.url`}</inlineCode>{` to the URL of the private repository you created earlier, e.g. `}<inlineCode parentName=\"li\">{`ssh://git@github.com/your-git-org/your-dag-repo`}</inlineCode></li>\n          <li parentName=\"ul\">{`Set `}<inlineCode parentName=\"li\">{`git.ref`}</inlineCode>{` to the DAG branch, e.g. `}<inlineCode parentName=\"li\">{`main`}</inlineCode>{`.`}</li>\n          <li parentName=\"ul\">{`Set `}<inlineCode parentName=\"li\">{`git.secret`}</inlineCode>{` to the name of the secret you created, e.g. `}<inlineCode parentName=\"li\">{`airflow-secret`}</inlineCode>{`.`}</li>\n          <li parentName=\"ul\">{`Adjust the `}<inlineCode parentName=\"li\">{`git.gitSync.refreshTime`}</inlineCode>{` as desired.`}</li>\n        </ul>\n        <p parentName=\"li\">{`Example excerpt from a customized configuration:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`## configs for the DAG git repository & sync container\n##\ngit:\n  ## url of the git repository\n  ##\n  ## EXAMPLE: (HTTP)\n  ##   url: \"https://github.com/torvalds/linux.git\"\n  ##\n  ## EXAMPLE: (SSH)\n  ##   url: \"ssh://git@github.com:torvalds/linux.git\"\n  ##\n  url: \"ssh://git@github.com/your-git-org/your-dag-repo\"\n\n  ## the branch/tag/sha1 which we clone\n  ##\n  ref: \"main\"\n\n  ## the name of a pre-created secret containing files for ~/.ssh/\n  ##\n  ## NOTE:\n  ## - this is ONLY RELEVANT for SSH git repos\n  ## - the secret commonly includes files: id_rsa, id_rsa.pub, known_hosts\n  ## - known_hosts is NOT NEEDED if \\`git.sshKeyscan\\` is true\n  ##\n  secret: \"airflow-secret\"\n  ...\n  gitSync:\n    ...\n    refreshTime: 10\n`}</code></pre>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`airflow:\n## configs for the docker image of the web/scheduler/worker\n##\nimage:\n  repository: elyra/airflow\n`}</code></pre>\n        <p parentName=\"li\">{`The container image is created using `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/elyra-ai/elyra/tree/v3.0.1/etc/docker/airflow\"\n          }}>{`this `}<inlineCode parentName=\"a\">{`Dockerfile`}</inlineCode></a>{` and published on `}<a parentName=\"p\" {...{\n            \"href\": \"https://hub.docker.com/r/elyra/airflow\"\n          }}>{`Docker Hub`}</a>{` and `}<a parentName=\"p\" {...{\n            \"href\": \"https://quay.io/repository/elyra/airflow\"\n          }}>{`quay.io`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Install Apache Airflow using the customized configuration.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`helm install \"airflow\" stable/airflow --values path/to/your_customized_helm_values.yaml\n`}</code></pre>\n      </li>\n    </ol>\n    <p>{`Once Apache Airflow is deployed you are ready to create and run pipelines, as described in the `}<a parentName=\"p\" {...{\n        \"href\": \"../getting_started/tutorials\"\n      }}>{`tutorial`}</a>{`.`}</p>\n    <h2>{`Enabling Elyra pipelines in an existing Apache Airflow deployment`}</h2>\n    <p>{`To enable running of notebook pipelines on an existing Apache Airflow deployment  `}</p>\n    <ul>\n      <li parentName=\"ul\">{`Enable Git as DAG storage by customizing the `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/apache/airflow/blob/6416d898060706787861ff8ecbc4363152a35f45/airflow/config_templates/default_airflow.cfg#L913\"\n        }}>{`Git settings in `}<inlineCode parentName=\"a\">{`airflow.cfg`}</inlineCode></a>{`.`}</li>\n    </ul>\n    <p>{`Once Apache Airflow is deployed you are ready to create and run pipelines, as described in the `}<a parentName=\"p\" {...{\n        \"href\": \"../getting_started/tutorials\"\n      }}>{`tutorial`}</a>{`.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}