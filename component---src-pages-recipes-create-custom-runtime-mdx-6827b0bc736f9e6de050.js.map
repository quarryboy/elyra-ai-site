{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/LastModifiedDate.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./src/pages/recipes/create-custom-runtime.mdx","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/last-modified-date.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss"],"names":["PageHeader","title","theme","tabs","className","cx","styles","pageHeader","withTabs","length","darkMode","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","aria-label","list","React","Component","LastModifiedDate","date","lastModified","Date","toLocaleDateString","day","year","month","Default","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","module","exports","name","_frontmatter","PageDescription","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-recipes-create-custom-runtime-mdx-6827b0bc736f9e6de050.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import LastModifiedDate from './LastModifiedDate';\n\nexport default LastModifiedDate;\n","import React from 'react';\nimport { Row, Column } from '../Grid';\nimport styles from './last-modified-date.module.scss';\n\nconst LastModifiedDate = ({ date }) => {\n  const options = {\n    day: '2-digit',\n    year: 'numeric',\n    month: 'long',\n  };\n\n  const lastModified = new Date(date);\n\n  return date ? (\n    <Row className={styles.row}>\n      <Column>\n        <div className={styles.text}>\n          Page last updated: {lastModified.toLocaleDateString('en-GB', options)}\n          {/* // https://www-03preprod.ibm.com/support/knowledgecenter/ibm_style/dates-and-times.html */}\n        </div>\n      </Column>\n    </Row>\n  ) : null;\n};\nexport default LastModifiedDate;\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\nimport LastModifiedDate from '../components/LastModifiedDate';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n    date,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n        <LastModifiedDate date={date} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/dsobryan/Documents/ElyraOS/elyra-ai-site/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const Title = () => <span>\n    Creating a custom runtime container image\n  </span>;\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst layoutProps = {\n  Title,\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <PageDescription mdxType=\"PageDescription\">\n      <p>{`A runtime image provides the execution environment in which nodes are executed when a Jupyter notebook is processed as part of a pipeline. Elyra includes a number of runtime images for popular configurations, such as TensorFlow or Pytorch.`}</p>\n    </PageDescription>\n    <p>{`Should none of these images meet your needs, you can utilize a custom container image, as long as it meets the following pre-requisites:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The image is stored in a container registry in a public or private network that the container platform in which the pipeline is executed can connect to. Examples of such registries are `}<a parentName=\"li\" {...{\n          \"href\": \"https://hub.docker.com\"\n        }}>{`hub.docker.com`}</a>{` or a self-managed registry in an intranet environment.`}</li>\n      <li parentName=\"ul\">{`The image can be pulled from the registry without the need to authenticate. `}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://www.python.org/\"\n        }}>{`Python 3`}</a>{` is pre-installed and in the search path. Python versions that have reached their “end of life” are not supported.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://curl.haxx.se/\"\n        }}><inlineCode parentName=\"a\">{`curl`}</inlineCode></a>{` is pre-installed and in the search path.`}</li>\n    </ul>\n    <p>{`Refer to the `}<a parentName=\"p\" {...{\n        \"href\": \"#additional-considerations\"\n      }}>{`Additional considerations`}</a>{` section for important implementation details.`}</p>\n    <h2>{`Requirements`}</h2>\n    <p>{`To create a custom container image and publish it on `}<a parentName=\"p\" {...{\n        \"href\": \"https://hub.docker.com\"\n      }}>{`hub.docker.com`}</a>{` you need`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Docker Desktop`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Available for `}<a parentName=\"li\" {...{\n              \"href\": \"https://hub.docker.com/editions/community/docker-ce-desktop-mac\"\n            }}>{`MacOS`}</a>{` and\n`}<a parentName=\"li\" {...{\n              \"href\": \"https://hub.docker.com/editions/community/docker-ce-desktop-windows\"\n            }}>{`Windows`}</a></li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">{`A Docker id at `}<a parentName=\"li\" {...{\n          \"href\": \"https://hub.docker.com\"\n        }}>{`https://hub.docker.com/`}</a>{`.`}</li>\n    </ul>\n    <h2>{`Creating a basic Python runtime container image`}</h2>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://hub.docker.com/_/python\"\n      }}>{`default Python 3 Docker image`}</a>{` has Python and `}<inlineCode parentName=\"p\">{`curl`}</inlineCode>{` pre-installed and it is therefore a good starting point.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a file named `}<inlineCode parentName=\"p\">{`Dockerfile`}</inlineCode>{` and add the following content.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`FROM python:3\n\nCOPY requirements.txt ./\nRUN pip3 install --no-cache-dir -r requirements.txt\n`}</code></pre>\n        <p parentName=\"li\">{`When you create a container image using this `}<inlineCode parentName=\"p\">{`Dockerfile`}</inlineCode>{` the `}<a parentName=\"p\" {...{\n            \"href\": \"https://hub.docker.com/_/python\"\n          }}>{`default Python 3 Docker image`}</a>{` is loaded and the requirements listed in `}<inlineCode parentName=\"p\">{`requirements.txt`}</inlineCode>{` `}<inlineCode parentName=\"p\">{`pip`}</inlineCode>{`-installed.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`in the same directory create a `}<inlineCode parentName=\"p\">{`requirements.txt`}</inlineCode>{` file and add the packages your notebooks depend on. For example, if your notebooks require the latest version of `}<inlineCode parentName=\"p\">{`Pandas`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`Numpy`}</inlineCode>{`,  add the appropriate package names.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`pandas\nnumpy\n`}</code></pre>\n        <p parentName=\"li\">{`Note: If your notebooks require packages that are not pre-installed on this image they need to `}<inlineCode parentName=\"p\">{`pip`}</inlineCode>{`-install them explicitly.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open a terminal to the location where you’ve created the `}<inlineCode parentName=\"p\">{`Dockerfile`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`requirements.txt`}</inlineCode>{`.`}</p>\n      </li>\n    </ol>\n    <h2>{`Using Docker`}</h2>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Build the container image by running the `}<a parentName=\"p\" {...{\n            \"href\": \"https://docs.docker.com/engine/reference/commandline/build/\"\n          }}><inlineCode parentName=\"a\">{`docker build`}</inlineCode></a>{` command in the terminal window, replacing `}<inlineCode parentName=\"p\">{`my-runtime-image`}</inlineCode>{` with the desired Docker image name.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`docker build -t my-runtime-image .\n`}</code></pre>\n      </li>\n    </ol>\n    <h2>{`Publishing the basic runtime container image`}</h2>\n    <p>{`When a notebook is processed as part of a pipeline the associated container image is downloaded from the container registry stated in the URL of the image.`}</p>\n    <p>{`For example, the following steps publish the container image you’ve just created on `}<a parentName=\"p\" {...{\n        \"href\": \"https://hub.docker.com\"\n      }}>{`Docker Hub`}</a>{` using docker.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Log in to Docker Hub using `}<a parentName=\"p\" {...{\n            \"href\": \"https://docs.docker.com/engine/reference/commandline/login/\"\n          }}><inlineCode parentName=\"a\">{`docker login`}</inlineCode></a>{` and provide your Docker id and password.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`docker login\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run `}<a parentName=\"p\" {...{\n            \"href\": \"https://docs.docker.com/engine/reference/commandline/images/\"\n          }}><inlineCode parentName=\"a\">{`docker images`}</inlineCode></a>{` and locate the image id for your Docker image. The image id uniquely identifies your Docker image.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`docker images\n\nREPOSITORY         TAG      IMAGE ID            CREATED             SIZE \nmy-runtime-image   latest   0d1bd98fdd84        2 hours ago         887MB\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Tag the container image using `}<a parentName=\"p\" {...{\n            \"href\": \"https://docs.docker.com/engine/reference/commandline/tag/\"\n          }}><inlineCode parentName=\"a\">{`docker tag`}</inlineCode></a>{`, replacing `}<inlineCode parentName=\"p\">{`my-image-id`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`docker-id-or-org-id`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`my-runtime-image`}</inlineCode>{` as necessary. (`}<inlineCode parentName=\"p\">{`docker-id-or-org-id`}</inlineCode>{` is either your Docker id or, if you are a member of a team in an organization, the id of that organization.)`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`docker tag my-image-id docker-id-or-org-id/my-runtime-image:latest\n`}</code></pre>\n        <p parentName=\"li\">{`Note: For illustrative purposes this image is tagged `}<inlineCode parentName=\"p\">{`latest`}</inlineCode>{`, which makes it the default image. If desired, replace the tag with a specific version number or identifier, such as `}<inlineCode parentName=\"p\">{`Vx.y.z`}</inlineCode>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Publish the container image on Docker Hub by running `}<a parentName=\"p\" {...{\n            \"href\": \"https://docs.docker.com/engine/reference/commandline/push/\"\n          }}><inlineCode parentName=\"a\">{`docker push`}</inlineCode></a>{`, replacing `}<inlineCode parentName=\"p\">{`docker-id-or-org-id`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`my-runtime-image`}</inlineCode>{` as necessary.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`docker push docker-id-or-org-id/my-runtime-image:latest\n`}</code></pre>\n      </li>\n    </ol>\n    <p>{`Once the image is published on Docker Hub you can `}<a parentName=\"p\" {...{\n        \"href\": \"/elyra-ai-site/user_guide/runtime-image-conf.md\"\n      }}>{`create a runtime image configuration using the Elyra UI or `}<inlineCode parentName=\"a\">{`elyra-metadata`}</inlineCode>{` CLI`}</a>{` and reference the published `}<inlineCode parentName=\"p\">{`docker-id-or-org-id/my-runtime-image:latest`}</inlineCode>{` Docker image.`}</p>\n    <h2>{`Additional Considerations`}</h2>\n    <p>{`Prior to notebook processing Elyra modifies the associated container by changing the default execution command and installing additional packages.\nPlease review the following section if`}</p>\n    <ul>\n      <li parentName=\"ul\">{`your Dockerfile `}<a parentName=\"li\" {...{\n          \"href\": \"#dockerfiles-with-cmd-instructions\"\n        }}>{`includes a CMD instruction`}</a></li>\n      <li parentName=\"ul\">{`your Dockerfile `}<a parentName=\"li\" {...{\n          \"href\": \"#dockerfiles-with-entrypoint-instructions\"\n        }}>{`includes an ENTRYPOINT instruction`}</a></li>\n      <li parentName=\"ul\">{`your package requirements `}<a parentName=\"li\" {...{\n          \"href\": \"#conflicting-package-dependencies\"\n        }}>{`include pinned versions`}</a></li>\n    </ul>\n    <h3>{`Dockerfiles with CMD instructions`}</h3>\n    <p>{`If a `}<inlineCode parentName=\"p\">{`Dockerfile`}</inlineCode>{` includes a `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.docker.com/engine/reference/builder/#cmd\"\n      }}><inlineCode parentName=\"a\">{`CMD`}</inlineCode></a>{` instruction, which is used to specify defaults for an executing container, you might have to customize your notebooks. When a notebook is processed as part of a pipeline the `}<inlineCode parentName=\"p\">{`CMD`}</inlineCode>{` instruction is overriden, which might have side effects. The following examples illustrate two scenarios.`}</p>\n    <h4>{`Scenario 1 - override has no side-effects`}</h4>\n    <p>{`The `}<inlineCode parentName=\"p\">{`CMD`}</inlineCode>{` instruction launches an application that does not need to be running when the notebook is executed. For example, the official Python container images might launch the interactive Python shell by default, like so:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`...\nCMD [\"python3\"]\n`}</code></pre>\n    <p>{`Notebooks will work as is because Python is explicitly run during notebook processing.`}</p>\n    <h4>{`Scenario 2 - override has side-effects`}</h4>\n    <p>{`The `}<inlineCode parentName=\"p\">{`CMD`}</inlineCode>{` instruction launches an application or service that a notebook consumes. For example, a container image might by default launch an application that provides computational (or connectivity) services that notebooks rely on.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`...\nCMD [\"python3\", \"/path/to/application-or-service\"]\n`}</code></pre>\n    <p>{`When the container started to process a notebook, the referenced application is unavailable because it wasn’t automatically started. If feasible, the notebook could launch the application in the background in a code cell like so:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`import os\nimport time\n# launch application in the background\nos.system(\"python /path/to/application-or-service &\")\n# wait to allow for application initialization\ntime.sleep(2)\n`}</code></pre>\n    <h3>{`Dockerfiles with ENTRYPOINT instructions`}</h3>\n    <p>{`If a container is configured to run as an executable by using the  `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.docker.com/engine/reference/builder/#entrypoint\"\n      }}><inlineCode parentName=\"a\">{`ENTRYPOINT`}</inlineCode></a>{` instruction in the `}<inlineCode parentName=\"p\">{`Dockerfile`}</inlineCode>{`, you likely have to customize your notebook. `}</p>\n    <h4>{`Scenario 1 - override has side-effects`}</h4>\n    <p>{`The `}<inlineCode parentName=\"p\">{`ENTRYPOINT`}</inlineCode>{` instruction launches an application or service that a notebook consumes.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`ENTRYPOINT [\"python3\", \"/path/to/application-or-service\"]\n`}</code></pre>\n    <p>{`When the container is launched to process a notebook the application or service is unavailable because it wasn’t automatically started. If feasible, the notebook could launch the application or service in the background in a code cell like so:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`import os\nimport time\n# launch application in the background\nos.system(\"python /path/to/application-or-service &\")\n# wait to allow for application initialization\ntime.sleep(2)\n`}</code></pre>\n    <h3>{`Conflicting package dependencies`}</h3>\n    <p>{`Elyra installs additional packages in the container prior to notebook processing. If a pre-installed package is not compatible with the version requirements defined in `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/elyra-ai/elyra/blob/master/etc/generic/requirements-elyra.txt\"\n      }}>{`requirements-elyra.txt`}</a>{`, it is replaced. You should review any version discrepancies as they might lead to unexpected processing results.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"last-modified-date-module--bx--text-truncate--end--123zi\",\"bxTextTruncateFront\":\"last-modified-date-module--bx--text-truncate--front--3xeKz\",\"text\":\"last-modified-date-module--text--24m-4\",\"row\":\"last-modified-date-module--row--2BquN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"darkMode\":\"PageHeader-module--dark-mode--hBrwL\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};"],"sourceRoot":""}